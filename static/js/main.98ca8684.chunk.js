(this["webpackJsonpdemo-context-api"]=this["webpackJsonpdemo-context-api"]||[]).push([[0],{48:function(e,t,n){e.exports=n(75)},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(18),c=n.n(o),r=n(30),m=n(29),i=n(24),u=n(34),s=n(12),d=n(31),h=n(46);var p=function(e){var t=Object(a.useState)({}),n=Object(m.a)(t,2),o=n[0],c=n[1],r=function(e){c(Object(u.a)(Object(u.a)({},o),{},Object(i.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("main",null,l.a.createElement(s.a,{onSubmit:function(t){t.preventDefault(),t.target.reset(),e.handleSubmit(o);c({})}},l.a.createElement(d.a,{style:{width:"18rem"}},l.a.createElement(d.a.Body,null,l.a.createElement(d.a.Title,null,"Add To Do Item Item"),l.a.createElement(s.a.Group,{controlId:"formBasicEmail"},l.a.createElement(s.a.Label,null,"To Do Item"),l.a.createElement(s.a.Control,{type:"text",name:"text",placeholder:"Item Details",onChange:r})),l.a.createElement("label",null,l.a.createElement("span",null,"Difficulty Rating"),l.a.createElement("input",{defaultValue:"1",type:"range",min:"1",max:"5",name:"difficulty",onChange:r})),l.a.createElement(s.a.Group,{controlId:"formBasicEmail"},l.a.createElement(s.a.Label,null,"Assigned To"),l.a.createElement(s.a.Control,{type:"text",name:"assignee",placeholder:"Assignee Name",onChange:r})),l.a.createElement(h.a,{type:"submit",variant:"primary"},"Add Item"))))))};var f=function(e){return l.a.createElement("ul",null,e.list.map((function(t,n){return l.a.createElement("li",{className:"complete-".concat(t.complete.toString()),key:t._id},l.a.createElement("span",{onClick:function(){return e.handleComplete(t._id)}},t.text),l.a.createElement("button",{onClick:function(){return e.handleDelete(t._id)}},"Delete "),l.a.createElement("button",{onClick:function(){return e.handleUpdate(n)}},"Update "),l.a.createElement("input",{type:"text",name:n,placeholder:"Update text "+t.text}))})))},E=n(47),g=n(35),b=n.n(g),v=(n(73),"https://access-denied-lab-32.herokuapp.com/todo"),y=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){b.a.get(v).then((function(e){console.log(e),o(e.data)}),[]).catch((function(e){console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(E.a,{color:"success"},l.a.createElement("h2",null,"There are ",n.filter((function(e){return!e.complete})).length," Items To Complete"))),l.a.createElement("section",{className:"todo"},l.a.createElement("div",null,l.a.createElement(p,{handleSubmit:function(e){e.due=new Date,fetch(v,{method:"post",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){o([].concat(Object(r.a)(n),[e]))})).catch(console.error)}})),l.a.createElement("div",null,l.a.createElement(f,{list:n,handleComplete:function(e){var t=n.filter((function(t){return t._id===e}))[0]||{},a=n.indexOf(t);console.log(a,"index"),t._id&&(t.complete=!t.complete,fetch(v,{method:"put",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("savedItemsavedItemsavedItem",e),n[a]=e,o(Object(r.a)(n))})).catch(console.error))},handleDelete:function(e){b.a.delete(v,{headers:{"Content-Type":"application/json"},data:{_id:e}}).then((function(e){window.location.reload(!0)})).catch(console.error)},handleUpdate:function(e){var t=document.getElementsByName(e)[0].value;n[e].text=t,console.log("arrarrarrarr",n),fetch(v,{method:"put",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n[e])}).then((function(e){return e.json()})).then((function(e){console.log("savedItemsavedItemsavedItem",e),o(Object(r.a)(n))})).catch(console.error),o(n)}}))))},j=n(11),x=n(27);var C=function(e){return l.a.createElement("header",null,l.a.createElement(j.a,{bg:"light",expand:"lg"},l.a.createElement(j.a.Brand,null,"Home"),l.a.createElement(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(j.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(x.a,{className:"mr-auto"},l.a.createElement(x.a.Link,{href:"#home"},"Home")))))};var I=function(e){return l.a.createElement("footer",null,l.a.createElement(j.a,{bg:"light",expand:"lg"},l.a.createElement(j.a.Brand,null,"\xa9 2020 To-do or not to-do thats is the question")))};n(74);var O=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(C,null),l.a.createElement(y,null),l.a.createElement(I,null))};function T(){return l.a.createElement(O,null)}var D=document.getElementById("root");c.a.render(l.a.createElement(T,null),D)}},[[48,1,2]]]);
//# sourceMappingURL=main.98ca8684.chunk.js.map