{"version":3,"sources":["components/todo/form.js","context/settings/context.js","components/todo/list.js","components/todo/todo-connected.js","components/header/header.js","components/footer/footer.js","context/auth/context.js","context/show/show.js","context/auth/auth.js","context/auth/login.js","app.js","index.js"],"names":["TodoForm","props","useState","allItem","setItem","handleInputChange","e","target","name","value","Form","onSubmit","preventDefault","reset","handleSubmit","Card","style","width","Body","Title","Group","controlId","Label","Control","type","placeholder","onChange","defaultValue","min","max","Button","variant","SettingsContext","React","createContext","SettingsProvider","array","setTitle","start","setStart","count","setcount","state","changeTitleTo","pages","list","number","document","getElementsByName","console","log","newarr","Array","Math","ceil","length","view","i","end","Number","Provider","children","TodoList","context","useContext","class","onClick","sort","a","b","difficulty","slice","map","item","className","complete","toString","key","_id","handleComplete","text","handleDelete","handleUpdate","id","todoAPI","ToDo","setList","useEffect","axios","get","then","res","data","catch","err","Alert","color","filter","due","Date","fetch","method","mode","cache","headers","body","JSON","stringify","response","json","savedItem","error","index","indexOf","delete","afterDelete","window","location","reload","input","Header","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","Nav","Link","href","Footer","API","process","REACT_APP_API","LoginContext","LoginProvider","login","username","password","Headers","btoa","results","token","validateToken","logout","setLoginState","user","jwt","verify","ex","loggedIn","cookie","save","setState","signup","alert","load","this","Component","Show","condition","Auth","okToRender","capability","capabilities","includes","warn","contextType","Login","handleChange","handleSignup","EditLink","ReadLink","DeleteLink","App","Heading","src","alt","Main","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.9a0be70a.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\n\n\nfunction TodoForm (props) {\n\n  let [allItem, setItem] = useState({});\n  const handleInputChange = e => {\n    setItem({...allItem, [e.target.name]: e.target.value } );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    e.target.reset();\n    props.handleSubmit(allItem);\n    const item = {};\n    setItem(item);\n  };\n\n\n  return (\n    <>\n      <main>\n        <Form onSubmit={handleSubmit}>\n          <Card style={{ width: '18rem' }}>\n            <Card.Body>\n              <Card.Title>Add To Do Item Item</Card.Title>\n              <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>To Do Item</Form.Label>\n                <Form.Control type=\"text\" name=\"text\" placeholder=\"Item Details\" onChange={handleInputChange}/>\n              </Form.Group>\n              <label>\n                <span>Difficulty Rating</span>\n                <input defaultValue=\"1\" type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" onChange={handleInputChange} />\n              </label>\n              <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Assigned To</Form.Label>\n                <Form.Control type=\"text\" name=\"assignee\" placeholder=\"Assignee Name\" onChange={handleInputChange}/>\n              </Form.Group>\n              <Button type=\"submit\" variant=\"primary\">Add Item</Button>\n            </Card.Body>\n          </Card>\n        </Form>\n      </main>\n    </>\n  );\n}\n\n\n\nexport default TodoForm;\n","import React, { useState } from 'react';\n\nexport const SettingsContext = React.createContext();\n\nfunction SettingsProvider(props) {\n  const [array, setTitle] = useState([1]);\n  const [start, setStart] = useState(0);\n  const [count, setcount] = useState();\n  \n  const pages = function (list){\n    let number = document.getElementsByName('pages');\n    console.log('number',number);\n    let newarr = new Array(Math.ceil(list.length/(number[0].value)));\n    setTitle([...newarr]);\n  };\n\n  const view = function(i){\n    let number = document.getElementsByName('pages')[0].value;\n    let end =Number(number) + (number*i);\n    setStart(Number(number*i));\n    setcount(end);\n  };\n  \n  // packaging all of state and state methods in one obj\n  const state = {\n    array,\n    changeTitleTo: setTitle,\n    pages: pages,\n    view:view,\n    start,\n    count,\n  };\n\n  return (\n    <SettingsContext.Provider value={state}>\n      {props.children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport default SettingsProvider;","/* eslint-disable no-unused-vars */\nimport React, { useContext,useEffect } from 'react';\nimport {SettingsContext} from '../../context/settings/context';\nimport  SettingsContex1 from '../../context/settings/context';\nfunction TodoList (props) {\n  const context = useContext(SettingsContext);\n  return (\n    <>\n      <ul>\n        <input type=\"Number\" name='pages'  placeholder={'number pages'} />\n        <button class='btn-primary'  onClick={() => context.pages(props.list)}>Number of element</button>\n        {props.list.sort((a,b) => (a.difficulty > b.difficulty) ? 1 : ((b.difficulty > a.difficulty) ? -1 : 0)).slice(context.start,context.count).map((item,i) => (\n          <li\n            className={`complete-${item.complete.toString()}`}\n            key={item._id}\n          >\n            <span onClick={() => props.handleComplete(item._id)}>\n              {item.text}\n            </span>\n            <span >{'Difficulty: '+item.difficulty}</span>\n            <button onClick={() => props.handleDelete(item._id)}>Delete </button>\n            <button onClick={() => props.handleUpdate(i)}>Update </button>\n            <input type=\"text\" name={i}  placeholder={'Update text '+item.text} />\n          </li>           \n        ))}    \n      </ul>\n      <ul id=\"btn1\">    \n        {context.array.map((item,i) => (\n          <li\n            key={item}\n          >\n            <button id=\"btn-primary\" onClick={() => context.view(i)}>{i+1}</button>\n          </li>\n        ))}\n      </ul>\n      <div>\n        <SettingsContex1 list={props.list} />\n      </div>\n    </>\n  );\n}\n\nexport default TodoList;\n","/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport Alert from 'react-bootstrap/Alert';\nimport axios from 'axios';\n\nimport './todo.scss';\n\nconst todoAPI = 'https://access-denied-lab-32.herokuapp.com/todo';\n// https://access-denied-lab-32.herokuapp.com/todo\n// https://lab32-401.herokuapp.com/todo\n// https://lab-32.herokuapp.com/todo\nconst ToDo = () => {\n\n  const [list, setList] = useState([]);\n\n  const _addItem = (item) => {\n    item.due = new Date();\n    fetch(todoAPI, {\n      method: 'post',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(item),\n    })\n      .then(response => response.json())\n      .then(savedItem => {\n        setList([...list, savedItem]);\n      })\n      .catch(console.error);\n  };\n\n  const _toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n    let index = list.indexOf(item);\n    console.log(index,'index');\n    if (item._id) {\n      item.complete = !item.complete;\n      fetch(todoAPI, {\n        method: 'put',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(item),\n      })\n        .then(response => response.json())\n        .then(savedItem => {\n          console.log('savedItemsavedItemsavedItem',savedItem);\n          list[index] = savedItem;\n          setList([...list]);\n        })\n        .catch(console.error);\n    }\n  };\n\n  const handleUpdate =(i) =>{\n    // listAll.splice(1,1)\n    let input = document.getElementsByName(i)[0].value;\n    list[i].text = input;\n    console.log('arrarrarrarr',list);\n    fetch(todoAPI, {\n      method: 'put',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(list[i]),\n    })\n      .then(response => response.json())\n      .then(savedItem => {\n        console.log('savedItemsavedItemsavedItem',savedItem);\n        setList([...list]);\n\n      })\n      .catch(console.error);\n    setList(list);\n  };\n  \n  const handleDelete =(_id) =>{\n    axios.delete(todoAPI, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        _id:_id,\n      },\n    })\n      .then(afterDelete => {\n        window.location.reload(true);\n\n      })\n      .catch(console.error);\n  };\n \n  const _getTodoItems = () => {\n    axios.get(todoAPI)\n      .then(res => {\n        console.log(res);\n        setList(res.data);\n      }, [])\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  useEffect(_getTodoItems, []);\n  \n  return (\n    <><div>\n      <Alert color=\"success\">\n        <h2>\n          There are {list.filter(item => !item.complete).length} Items To Complete\n        </h2>\n      </Alert>\n    </div>\n\n    <section className=\"todo\">\n\n      <div>\n        <TodoForm handleSubmit={_addItem} />\n      </div>\n\n      <div>\n        <TodoList\n          list={list}\n          handleComplete={_toggleComplete}\n          handleDelete={handleDelete}\n          handleUpdate={handleUpdate}\n        /> \n      </div>\n    </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nfunction Header (props) {\n  return (\n    <header>     \n      <Navbar bg=\"light\" expand=\"lg\">\n        <Navbar.Brand >Home</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <Nav.Link href=\"#home\">Home</Nav.Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </header>\n  );\n}\n  \nexport default Header;","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nfunction Footer (props) {\n  return (\n    <footer>\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Navbar.Brand>&copy; 2020 To-do or not to-do thats is the question</Navbar.Brand>\n      </Navbar>\n    </footer>\n  );\n}\n  \nexport default Footer;","/* eslint-disable quotes */\nimport React from 'react';\nimport cookie from 'react-cookies';\nimport jwt from 'jsonwebtoken';\n\n// const base64 = require('base-64');\n\n\nconst API = process.env.REACT_APP_API || 'https://access-denied-lab-32.herokuapp.com';\n// https://class-34-auth.herokuapp.com\n// demo : username: rawan_nujoom , password: 1234\n// demo : username: rawan_user , password: 1234\nexport const LoginContext = React.createContext();\n\nclass LoginProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedIn: false,\n      token:null,\n      login: this.login,\n      logout: this.logout,\n      signup: this.signup,\n      user: {},\n    };\n  }\n\n    login = async(username, password) => {\n\n      try {\n        const results = await fetch( `${API}/signin`, {\n          method: 'POST',\n          mode: 'cors',\n          cache: 'no-cache',\n          headers: new Headers({\n            'Authorization': `Basic ${btoa(`${username}:${password}`)}`,\n          }),\n        });\n        let res = await results.json();\n        console.log('res: ', res);\n        console.log('res.token: ', res.token);\n        // validate the token from res\n        this.validateToken(res.token);\n      } catch(ex) {\n        console.error(ex);\n      }\n    }\n\n    logout = () => {\n      this.setLoginState(false, null, {});\n    }\n\n    validateToken = token => {\n\n      try {\n        console.log(process.env.REACT_APP_SECRET);\n        let user = jwt.verify(token, process.env.REACT_APP_SECRET || '12345678910');\n        console.log('user: ',user);\n        // update the login context to loggedin\n        this.setLoginState(true, token, user);\n      } catch (ex) {\n        // on err update the login context to loggedout\n        this.logout();\n        console.log('token Validation error');\n      }\n    }\n    \n    setLoginState = (loggedIn, token, user) => {\n      cookie.save('auth', token);\n      this.setState({token, loggedIn, user});\n    }\n    \n    componentDidMount() {\n      const cookieToken = cookie.load('auth');\n      const token = cookieToken || null;\n      this.validateToken(token);\n    }\n\n    signup = async(username, password) => {\n\n      try {\n        const results = await fetch( `${API}/signup`, {\n          method: 'post',\n          mode: 'cors',\n          cache: 'no-cache',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ \n            'username': `${username}`,\n            'password': `${password}`,\n            'role': 'user',\n          }),\n        });\n        let res = await results.json();\n        console.log('res: ', res);\n        console.log('res.token: ', res.token);\n        // validate the token from res\n        await alert(\"Hello! I am an alert box!!\");\n        this.validateToken(res.token);\n      } catch(ex) {\n        console.error(ex);\n        await alert(\"Hello! I am an alert box!!\");\n      }\n    }\n\n    render() {\n      return (\n        <LoginContext.Provider value={this.state}>\n          {this.props.children}\n        </LoginContext.Provider>\n      );\n    }\n}\n\nexport default LoginProvider;\n","const Show = props =>{\n  return props.condition ? props.children : null;\n};\n\nexport default Show;","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport { LoginContext } from './context';\nimport Show from '../show/show';\n\nclass Auth extends React.Component {\n\n    static contextType = LoginContext;\n\n    render() {\n      let okToRender = false;\n\n      try {\n        okToRender = this.context.loggedIn && (\n          this.props.capability ? \n            this.context.user.capabilities.includes(this.props.capability)\n            : true\n        );\n        console.log('okToRender: ',okToRender);\n      } catch (e) {\n        console.warn('Not Authorized!');\n      }\n\n      // admin ['edit', 'delete', 'create']\n      //     <Auth capabilty=\"delete\">\n      //             <button>delete for admins only</button>\n      //     </Auth>\n\n      return (\n        <Show condition={okToRender}>\n          {this.props.children}\n        </Show>\n      );\n    }\n}\n\nexport default Auth;\n// <Auth>\n//     <div>example</div>\n// </Auth>\n// 1- is the user logged in ?\n// <Auth>\n//     <div>example</div>\n// </Auth>\n\n// not just logged in but also I have a certain capability \n// 2- am I logged in and I have capabiltiy?\n//  <Auth capabality=\"delete\">\n//     <div>example 2 </div>\n// </Auth>\n\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\n\nimport { LoginContext } from './context.js';\nimport Show from '../show/show.js';\nimport './login.scss';\n\nclass Login extends React.Component {\n\n    static contextType = LoginContext;\n    \n    constructor(props) {\n      super(props);\n      this.state = {\n        username: '',\n        password: '',\n      };\n    }\n\n    handleChange = e => {\n      this.setState({ [e.target.name] : e.target.value});\n    }\n\n    handleSubmit = e => {\n      e.preventDefault();\n      this.context.login(this.state.username, this.state.password);\n    }\n    handleSignup = e =>{\n      e.preventDefault();\n      this.context.signup(this.state.username, this.state.password);      \n    }\n\n    render() {\n      console.log('this.context: ', this.context);\n      return (\n        <section>\n          <Show condition={this.context.loggedIn}>\n            <button onClick={this.context.logout} id='btn-primary'>Logout</button>\n          </Show>\n          <Show condition={!this.context.loggedIn}>\n            <form onSubmit={this.handleSubmit} >\n              <input \n                placeholder=\"userName\"\n                name=\"username\"\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"password\"\n                name=\"password\"\n                onChange={this.handleChange}\n              />\n              <button id='btn-primary'>Login</button>\n            </form>\n          </Show>\n          <Show condition={!this.context.loggedIn}>\n            <form onSubmit={this.handleSignup} >\n              <input \n                placeholder=\"userName\"\n                name=\"username\"\n                onChange={this.handleChange}\n              />\n              <input\n                placeholder=\"password\"\n                name=\"password\"\n                onChange={this.handleChange}\n              />\n              <button id='btn-primary' >Signup</button>\n            </form>\n          </Show>\n        </section>\n      );\n    }\n\n}\n\nexport default Login;","/* eslint-disable no-unused-vars */\nimport React from 'react';\n// import ToDo from './components/todo/todo.js';\nimport ToDo from './components/todo/todo-connected';\nimport Header from './components/header/header';\nimport Footer from './components/footer/footer';\nimport  SettingsContext  from './context/settings/context';\n// Auth\nimport Auth from './context/auth/auth.js';\nimport Login from './context/auth/login.js';\nimport LoginContext from './context/auth/context.js';\n// import the css file\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// Alert \nimport Alert from 'react-bootstrap/Alert';\n// sass\nimport './app.scss';\n\nconst EditLink = props => {\n  return (\n    <Auth capability=\"dance\">\n      <span>Fake Update Link </span>\n    </Auth>\n  );\n};\n\nconst ReadLink = props => {\n  return (\n    <Auth capability=\"read\">\n      <SettingsContext>\n        <ToDo />\n      </SettingsContext>\n      <Footer/>\n    </Auth>\n  );\n};\n\nconst DeleteLink = props => {\n  return (\n    <Auth capability=\"delete\">\n      <span>Fake Delete Link </span>\n    </Auth>\n  );\n};\n\nfunction App (){\n  return (\n    <>\n      <LoginContext>\n        <Header/>\n        <Login />\n        <Alert variant=\"success\">\n          <Alert.Heading>Hey, nice to see you</Alert.Heading>\n          <p>\n            Welcome to our site you can signin if you have account or simply create new account (:\n          </p>\n          <hr />\n          <img src=\"https://thumbs.gfycat.com/AbsoluteBelatedClam-size_restricted.gif\" alt=\"Italian Trulli\"/>\n        </Alert>\n        <hr />\n        <EditLink />\n        <DeleteLink />\n        <ReadLink />\n      </LoginContext>\n      {/* <Header/>\n      <SettingsContext>\n        <ToDo />\n      </SettingsContext>\n      <Footer/> */}\n\n    </>\n  );\n}\n\nexport default App;","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nfunction Main() {\n  \n  return <App />;\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}